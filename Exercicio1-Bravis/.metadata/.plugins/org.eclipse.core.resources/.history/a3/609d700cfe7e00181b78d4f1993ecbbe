package br.bravi;

import java.util.Stack;

public class Teste {

	private final char  ABRE_PARENTESES = '('; 
	private final char  FECHA_PARENTESES = ')';
	private final char  ABRE_COLCHETES = '['; 
	private final char  FECHA_COLCHETES = ']';
	private final char  ABRE_CHAVES = '{'; 
	private final char  FECHA_CHAVES = '}';

	@SuppressWarnings("unchecked")
	public boolean seEstaBalanceada (String expressao){
		@SuppressWarnings("rawtypes")
		Stack pilhaDeCharsProcurados = new Stack();

		for (int i=0; i < expressao.length(); i ++){

			if (expressao.charAt(i) == ABRE_PARENTESES){				
				pilhaDeCharsProcurados.push(FECHA_PARENTESES);
				continue;
			}

			if (expressao.charAt(i) == ABRE_COLCHETES){				
				pilhaDeCharsProcurados.push(FECHA_COLCHETES);
				continue;
			}

			if (expressao.charAt(i) == ABRE_CHAVES){				
				pilhaDeCharsProcurados.push(FECHA_CHAVES);
				continue;
			}

			if (!pilhaDeCharsProcurados.isEmpty() && expressao.charAt(i) == (char)pilhaDeCharsProcurados.peek()){				
				pilhaDeCharsProcurados.pop();
				continue;
			}

			if (expressao.charAt(i) == FECHA_CHAVES 
					|| expressao.charAt(i) == FECHA_COLCHETES 
					|| expressao.charAt(i) == FECHA_PARENTESES){				
				return false;
			}

		}

		return pilhaDeCharProcurados.isEmpty();
	}

}
